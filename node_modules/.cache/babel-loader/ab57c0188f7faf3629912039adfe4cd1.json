{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ronan\\\\source\\\\repos\\\\seminar-webpage\\\\src\\\\MapChart.js\",\n    _s = $RefreshSig$();\n\nimport React, { memo, useEffect, useState } from \"react\";\nimport { csv } from \"d3-fetch\";\nimport { ZoomableGroup, ComposableMap, Geographies, Geography } from \"react-simple-maps\";\nimport { styled } from '@mui/material/styles';\nimport Slider from '@mui/material/Slider';\nimport Box from '@mui/material/Box';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst geoUrl = \"https://raw.githubusercontent.com/zcreativelabs/react-simple-maps/master/topojson-maps/world-110m.json\";\n\nconst rounded = num => {\n  if (num > 1000000000) {\n    return Math.round(num / 100000000) / 10 + \"Bn\";\n  } else if (num > 1000000) {\n    return Math.round(num / 100000) / 10 + \"M\";\n  } else {\n    return Math.round(num / 100) / 10 + \"K\";\n  }\n};\n\nconst marks = [{\n  value: 1,\n  label: 'yr1990'\n}, {\n  value: 2,\n  label: 'yr2000'\n}, {\n  value: 3,\n  label: 'yr2010'\n}, {\n  value: 4,\n  label: 'yr2015'\n}, {\n  value: 2020,\n  label: 'yr2020'\n}];\n\nfunction valuetext(value) {\n  return `yr${value}`;\n}\n\nfunction valueLabelFormat(value) {\n  return marks.findIndex(mark => mark.value === value) + 1;\n}\n\nconst MapChart = ({\n  setTooltipContent\n}) => {\n  _s();\n\n  const [forestData, setForestData] = useState([]);\n  const [estimates, setEstimates] = useState([]);\n  useEffect(() => {\n    csv(`/annual-change-forest-area.csv`).then(forestData => {\n      setForestData(forestData);\n    });\n    csv(`/living-planet-index-by-region.csv`).then(estimates => {\n      setEstimates(estimates);\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(ComposableMap, {\n      \"data-tip\": \"\",\n      projectionConfig: {\n        scale: 200\n      },\n      children: /*#__PURE__*/_jsxDEV(ZoomableGroup, {\n        children: /*#__PURE__*/_jsxDEV(Geographies, {\n          geography: geoUrl,\n          children: ({\n            geographies\n          }) => geographies.map(geo => {\n            const fifteen = forestData.find(s => s.ISO3 === geo.properties.ISO_A3);\n            const est = estimates.find(s => s.Region === geo.properties.CONTINENT);\n            return /*#__PURE__*/_jsxDEV(Geography, {\n              geography: geo,\n              onMouseEnter: () => {\n                const {\n                  NAME,\n                  POP_EST\n                } = geo.properties;\n                true ? setTooltipContent(`${NAME}<br />\n                                                                         ------------<br />\n                                                                         Year: 2020<br />\n                                                                               Biodiversity loss: ${est[\"Percent\"]}`) : setTooltipContent(`No data found for ${NAME}`);\n              },\n              onMouseLeave: () => {\n                setTooltipContent(\"\");\n              },\n              style: {\n                default: {\n                  fill: \"#D6D6DA\",\n                  outline: \"#000000\"\n                },\n                hover: {\n                  fill: \"#F53\",\n                  outline: \"#000000\"\n                },\n                pressed: {\n                  fill: \"#E42\",\n                  outline: \"#000000\"\n                }\n              }\n            }, geo.rsmKey, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 37\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        width: 1000\n      },\n      children: /*#__PURE__*/_jsxDEV(Slider, {\n        \"aria-label\": \"Restricted values\",\n        defaultValue: 2020,\n        valueLabelFormat: valueLabelFormat,\n        getAriaValueText: valuetext,\n        step: null,\n        valueLabelDisplay: \"auto\",\n        marks: marks\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_s(MapChart, \"ZyuU0lJchnWhXD/gjhgdzO/ZsQM=\");\n\n_c = MapChart;\nexport default _c2 = /*#__PURE__*/memo(MapChart);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"MapChart\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["C:/Users/ronan/source/repos/seminar-webpage/src/MapChart.js"],"names":["React","memo","useEffect","useState","csv","ZoomableGroup","ComposableMap","Geographies","Geography","styled","Slider","Box","geoUrl","rounded","num","Math","round","marks","value","label","valuetext","valueLabelFormat","findIndex","mark","MapChart","setTooltipContent","forestData","setForestData","estimates","setEstimates","then","scale","geographies","map","geo","fifteen","find","s","ISO3","properties","ISO_A3","est","Region","CONTINENT","NAME","POP_EST","default","fill","outline","hover","pressed","rsmKey","width"],"mappings":"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","sourcesContent":["import React, { memo, useEffect, useState } from \"react\";\r\nimport { csv } from \"d3-fetch\";\r\nimport {\r\n    ZoomableGroup,\r\n    ComposableMap,\r\n    Geographies,\r\n    Geography\r\n} from \"react-simple-maps\";\r\nimport { styled } from '@mui/material/styles';\r\nimport Slider from '@mui/material/Slider';\r\nimport Box from '@mui/material/Box';\r\n\r\nconst geoUrl =\r\n    \"https://raw.githubusercontent.com/zcreativelabs/react-simple-maps/master/topojson-maps/world-110m.json\";\r\n\r\nconst rounded = num => {\r\n    if (num > 1000000000) {\r\n        return Math.round(num / 100000000) / 10 + \"Bn\";\r\n    } else if (num > 1000000) {\r\n        return Math.round(num / 100000) / 10 + \"M\";\r\n    } else {\r\n        return Math.round(num / 100) / 10 + \"K\";\r\n    }\r\n}; \r\n\r\nconst marks = [\r\n    {\r\n        value: 1,\r\n        label: 'yr1990',\r\n    },\r\n    {\r\n        value: 2,\r\n        label: 'yr2000',\r\n    },\r\n    {\r\n        value: 3,\r\n        label: 'yr2010',\r\n    },\r\n    {\r\n        value: 4,\r\n        label: 'yr2015',\r\n    },\r\n    {\r\n        value: 2020,\r\n        label: 'yr2020',\r\n    },\r\n];\r\n\r\nfunction valuetext(value) {\r\n    return `yr${value}`;\r\n}\r\n\r\nfunction valueLabelFormat(value) {\r\n    return marks.findIndex((mark) => mark.value === value) + 1;\r\n}\r\n\r\nconst MapChart = ({ setTooltipContent }) => {\r\n\r\n        const [forestData, setForestData] = useState([]);\r\n        const [estimates, setEstimates] = useState([]);\r\n\r\n    useEffect(() => {\r\n        csv(`/annual-change-forest-area.csv`).then((forestData) => {\r\n            setForestData(forestData);\r\n        });\r\n        csv(`/living-planet-index-by-region.csv`).then((estimates) => {\r\n            setEstimates(estimates);\r\n        })\r\n    },\r\n      []);\r\n\r\n    return (\r\n        <>\r\n            <ComposableMap data-tip=\"\" projectionConfig={{ scale: 200 }}>\r\n                <ZoomableGroup>\r\n                    <Geographies geography={geoUrl}>\r\n                        {({ geographies }) =>\r\n                            geographies.map((geo) => {\r\n                                const fifteen = forestData.find((s) => s.ISO3 === geo.properties.ISO_A3);\r\n                                const est = estimates.find((s) => s.Region === geo.properties.CONTINENT);\r\n                                return (\r\n                                    <Geography\r\n                                        key={geo.rsmKey}\r\n                                        geography={geo}\r\n                                        onMouseEnter={() => {\r\n                                            const { NAME, POP_EST } = geo.properties;\r\n                                            (true\r\n                                                ? setTooltipContent(`${NAME}<br />\r\n                                                                         ------------<br />\r\n                                                                         Year: 2020<br />\r\n                                                                               Biodiversity loss: ${est[\"Percent\"]}` )\r\n                                                : setTooltipContent(`No data found for ${NAME}`));\r\n                                        }}\r\n                                        onMouseLeave={() => {\r\n                                            setTooltipContent(\"\");\r\n                                        }}\r\n                                        style={{\r\n                                            default: {\r\n                                                fill: \"#D6D6DA\",\r\n                                                outline: \"#000000\",\r\n                                            },\r\n                                            hover: {\r\n                                                fill: \"#F53\",\r\n                                                outline: \"#000000\"\r\n                                            },\r\n                                            pressed: {\r\n                                                fill: \"#E42\",\r\n                                                outline: \"#000000\"\r\n                                            }\r\n                                        }}\r\n                                    />\r\n                                );\r\n                            })\r\n                        }\r\n                    </Geographies>\r\n                </ZoomableGroup>\r\n            </ComposableMap>\r\n            <Box sx={{ width: 1000 }}>\r\n            <Slider\r\n                aria-label=\"Restricted values\"\r\n                defaultValue={2020}\r\n                valueLabelFormat={valueLabelFormat}\r\n                getAriaValueText={valuetext}\r\n                step={null}\r\n                valueLabelDisplay=\"auto\"\r\n                marks={marks}\r\n                />\r\n            </Box>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default memo(MapChart);"]},"metadata":{},"sourceType":"module"}